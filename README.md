# AI Agent Studio (n8n версия)

Студия для создания и тестирования AI-агентов с интеграцией n8n webhook.

## Возможности

- **Разделенный интерфейс**: Чат для тестирования слева, редактор промпта справа
- **Системный промпт**: Настройка поведения AI-агента с счетчиком символов
- **Интеграция с n8n**: Все запросы отправляются на ваш webhook
- **Markdown поддержка**: Автоматическое форматирование ответов с поддержкой кода
- **Подсветка синтаксиса**: Highlight.js для красивого отображения кода
- **Копирование сообщений**: Кнопка для быстрого копирования любого сообщения
- **Экспорт диалога**: Сохранение беседы в JSON формате
- **Анимации**: Плавные переходы и анимированный индикатор печати
- **Временные метки**: Время отправки каждого сообщения
- **Автосохранение**: Автоматическое сохранение промпта в localStorage
- **История диалога**: Отправка контекста предыдущих сообщений
- **Горячие клавиши**: Enter для отправки, Shift+Enter для новой строки
- **Минималистичный дизайн**: Современный темный интерфейс

## Запуск

Просто откройте `index.html` в браузере. Никаких дополнительных зависимостей не требуется.

Или запустите локальный сервер:
```bash
npx http-server -p 3001
```

## Использование

1. **Настройте системный промпт** в правой панели (с отображением количества символов)
2. **Начните диалог** в левой панели - вводите сообщения и тестируйте агента
3. **Нажмите "Сохранить"** для явного сохранения промпта (автосохранение работает автоматически)
4. **Используйте "Очистить"** для начала нового диалога
5. **Экспортируйте диалог** через кнопку экспорта для сохранения беседы
6. **Копируйте сообщения** наведя на них курсор и нажав "Копировать"

### Горячие клавиши
- **Enter** - отправить сообщение
- **Shift + Enter** - новая строка в сообщении

## Формат запроса к webhook

```json
{
  "prompt": "Системный промпт из правого окна",
  "message": "Сообщение пользователя из чата",
  "history": [
    {
      "role": "user",
      "content": "Предыдущее сообщение"
    },
    {
      "role": "assistant",
      "content": "Предыдущий ответ"
    }
  ]
}
```

## Формат ответа от webhook

Поддерживаются следующие форматы ответа:
- Простая строка
- `{ "response": "текст" }`
- `{ "message": "текст" }`
- `{ "output": "текст" }`
- `{ "text": "текст" }`

## Технологии

- HTML5
- CSS3 (Flexbox, Animations)
- Vanilla JavaScript (ES6+)
- n8n Webhook Integration
- Marked.js (Markdown rendering)
- Highlight.js (Syntax highlighting)

## Webhook URL

```
https://n8n-api.tradicia-k.ru/webhook-test/1f0629dc-22be-496b-bf2b-2d7090578a3c
```

